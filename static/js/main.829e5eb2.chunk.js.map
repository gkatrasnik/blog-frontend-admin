{"version":3,"sources":["contexts/UserContext.js","components/Navigation.js","components/AddPost.js","components/Comment.js","components/Post.js","components/PostsList.js","components/Blog.js","components/Login.js","components/Signup.js","components/PrivateRoute.js","App.js","reportWebVitals.js","index.js"],"names":["UserContext","React","createContext","user","UserProvider","children","useState","setUser","Provider","value","login","logout","Navigation","useContext","Navbar","style","borderBottom","Container","Brand","Nav","className","Link","username","onClick","href","AddPost","props","postTitle","setPostTitle","postContent","setPostContent","Form","onSubmit","event","preventDefault","token","localStorage","getItem","axios","post","title","content","userId","_id","headers","Authorization","then","response","getPostsData","error","console","log","alert","width","maxWidth","margin","Group","controlId","Label","Control","type","placeholder","onChange","e","target","Button","variant","Comment","comment","author","Card","Text","postId","commentId","delete","res","catch","err","Post","showCommentForm","setShowCommentForm","commentAuthor","setCommentAuthor","commentContent","setCommentContent","comments","item","Body","Title","Subtitle","map","index","PostsList","postsList","setPostsList","loading","setLoading","useEffect","get","data","textAlign","marginTop","padding","Blog","Login","currentUsername","setCurrentUsername","currentPassword","setCurrentPassword","navigate","useNavigate","password","setItem","Signup","currentPassword2","setCurrentPassword2","PrivateRoute","component","to","App","exact","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","defaults","baseURL","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.829e5eb2.chunk.js","sourcesContent":["import React, { useState } from \"react\";\n\nexport const UserContext = React.createContext({ user: \"\" });\n\nexport function UserProvider({ children }) {\n  //dummy user, use api jwt token\n  const [user, setUser] = useState(\"\");\n\n  const login = (user) => {\n    setUser(user);\n  };\n\n  // Logout updates the user data to default\n  const logout = () => {\n    setUser(\"\");\n  };\n\n  return (\n    <UserContext.Provider value={{ user, login, logout }}>\n      {children}\n    </UserContext.Provider>\n  );\n}\n","import { Navbar, Nav, Container } from \"react-bootstrap\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"../contexts/UserContext\";\n\nfunction Navigation() {\n  const { user, logout } = useContext(UserContext);\n\n  return (\n    <Navbar style={{ borderBottom: \"1px solid black\" }}>\n      <Container>\n        <Navbar.Brand>\n          <h3>My Blog - Admin App</h3>\n        </Navbar.Brand>\n      </Container>\n      <Nav className=\"me-auto\">\n        <Nav.Link>{user.username}</Nav.Link>\n\n        {user ? (\n          <Nav.Link onClick={logout}>Logout</Nav.Link>\n        ) : (\n          <>\n            <Nav.Link href=\"login\">Login</Nav.Link>\n            <Nav.Link href=\"signup\">Sign up</Nav.Link>\n          </>\n        )}\n      </Nav>\n    </Navbar>\n  );\n}\n\nexport default Navigation;\n","import { useState, useContext } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport axios from \"axios\";\n\nfunction AddPost(props) {\n  const [postTitle, setPostTitle] = useState(\"\");\n  const [postContent, setPostContent] = useState(\"\");\n  const { user } = useContext(UserContext);\n\n  const handlePostAdd = (event) => {\n    event.preventDefault();\n\n    if (!postTitle || !postContent) {\n      alert(\"Title or content can not be empty!\");\n      return;\n    }\n\n    const token = localStorage.getItem(\"token\");\n\n    axios\n      .post(\n        `/api/posts/`,\n        {\n          title: postTitle,\n          content: postContent,\n          userId: user._id,\n        },\n        {\n          headers: { Authorization: \"Bearer \" + token },\n        }\n      )\n      .then(\n        (response) => {\n          setPostTitle(\"\");\n          setPostContent(\"\");\n          props.getPostsData();\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n  };\n  return (\n    <Form\n      onSubmit={handlePostAdd}\n      style={{ width: \"80%\", maxWidth: \"32rem\", margin: \"auto\" }}\n    >\n      <h1>New Post</h1>\n      <Form.Group className=\"mb-3\" controlId=\"title\">\n        <Form.Label>Title</Form.Label>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Enter title\"\n          value={postTitle}\n          onChange={(e) => setPostTitle(e.target.value)}\n        />\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\" controlId=\"content\">\n        <Form.Label>Content</Form.Label>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"content\"\n          value={postContent}\n          onChange={(e) => setPostContent(e.target.value)}\n        />\n      </Form.Group>\n\n      <Button variant=\"primary\" type=\"submit\">\n        Add Post\n      </Button>\n    </Form>\n  );\n}\n\nexport default AddPost;\n","import React from \"react\";\nimport { Card, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { Trash, TrashFill } from \"react-bootstrap-icons\";\n\nfunction Comment(props) {\n  console.log(props.comment.author);\n\n  const handleCommentDelete = (event) => {\n    event.preventDefault();\n\n    var postId = props.comment.postId;\n    var commentId = props.comment._id;\n    const token = localStorage.getItem(\"token\");\n    axios\n      .delete(`/api/posts/${postId}/comments/${commentId}`, {\n        headers: { Authorization: \"Bearer \" + token },\n      })\n      .then((res) => {\n        console.log(res);\n        props.getPostsData();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <Card.Text comment={props.comment}>\n      {props.comment.author}: {props.comment.title}\n      {props.comment.content}\n      <Button\n        variant=\"danger\"\n        onClick={handleCommentDelete}\n        className=\"float-end\"\n      >\n        <Trash /> Delete domment\n      </Button>\n    </Card.Text>\n  );\n}\nexport default Comment;\n","import React, { useState } from \"react\";\nimport { Card, Button, Form } from \"react-bootstrap\";\nimport Comment from \"./Comment\";\nimport axios from \"axios\";\nimport { TrashFill } from \"react-bootstrap-icons\";\n\nfunction Post(props) {\n  const [showCommentForm, setShowCommentForm] = useState(false);\n  const [commentAuthor, setCommentAuthor] = useState(\"\");\n  const [commentContent, setCommentContent] = useState(\"\");\n\n  let comments = props.item.comments;\n  console.log(comments);\n\n  const handleCommentAdd = (event) => {\n    event.preventDefault();\n    if (!commentAuthor || !commentContent) {\n      alert(\"Author or Comment can not be empty!\");\n      return;\n    }\n    var postId = props.item._id;\n    axios\n      .post(`/api/posts/${postId}/comments/`, {\n        author: commentAuthor,\n        content: commentContent,\n      })\n      .then(\n        (response) => {\n          setCommentAuthor(\"\");\n          setCommentContent(\"\");\n          setShowCommentForm(!showCommentForm);\n          props.getPostsData();\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n  };\n\n  const handlePostDelete = (event) => {\n    event.preventDefault();\n    //handle post delete\n    var postId = props.item._id;\n    const token = localStorage.getItem(\"token\");\n\n    //handle post delete (it deletes its comments too)\n    axios\n      .delete(`/api/posts/${postId}`, {\n        headers: { Authorization: \"Bearer \" + token },\n      })\n      .then((res) => {\n        console.log(res);\n        props.getPostsData();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <Card style={{ width: \"80%\", maxWidth: \"32rem\", margin: \"20px\" }}>\n      <Card.Body>\n        <Card.Title className=\"text-center\">\n          {props.item.title}{\" \"}\n          <Button\n            variant=\"danger\"\n            onClick={handlePostDelete}\n            className=\"float-end\"\n          >\n            <TrashFill /> Delete post\n          </Button>\n        </Card.Title>\n        <Card.Subtitle className=\"mb-2 text-muted\">\n          Author: {props.item.user.username}\n        </Card.Subtitle>\n        <Card.Text>{props.item.content}</Card.Text>\n\n        <br />\n        <Card.Text>Comments:</Card.Text>\n\n        {comments.map((comment, index) => {\n          return (\n            <Comment\n              getPostsData={props.getPostsData}\n              comment={comment}\n              key={index}\n            />\n          );\n        })}\n        <Button\n          variant=\"primary\"\n          className=\"float-end my-2\"\n          onClick={() => {\n            setShowCommentForm(!showCommentForm);\n          }}\n        >\n          Comment\n        </Button>\n        {showCommentForm && (\n          <Form onSubmit={handleCommentAdd}>\n            <Form.Group className=\"mb-3\" controlId=\"author\">\n              <Form.Label>Author:</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"enter your nickname\"\n                onChange={(e) => {\n                  setCommentAuthor(e.target.value);\n                }}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"content\">\n              <Form.Label>Text:</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Type your comment\"\n                onChange={(e) => {\n                  setCommentContent(e.target.value);\n                }}\n              />\n            </Form.Group>\n\n            <Button variant=\"primary\" type=\"submit\">\n              Submit\n            </Button>\n          </Form>\n        )}\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default Post;\n","import React, { useState, useEffect } from \"react\";\nimport AddPost from \"./AddPost\";\nimport Post from \"./Post\";\nimport axios from \"axios\";\n\nfunction PostsList(props) {\n  const [postsList, setPostsList] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    getPostsData();\n  }, []);\n\n  const getPostsData = () => {\n    setLoading(true);\n    axios\n      .get(\"/api/posts\")\n      .then((response) => {\n        setPostsList(response.data);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <>\n      <AddPost getPostsData={getPostsData} />\n      {loading && (\n        <h2 style={{ textAlign: \"center\", marginTop: \"20px\" }}>\n          \"Loading Posts...\"\n        </h2>\n      )}\n      <ul style={{ padding: 0 }}>\n        {postsList.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className=\"d-flex flex-direction-column justify-content-center\"\n            >\n              <Post getPostsData={getPostsData} item={item} index={index} />\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n}\n\nexport default PostsList;\n","import PostsList from \"./PostsList\";\n\nfunction Blog() {\n  return (\n    <>\n      <PostsList />\n    </>\n  );\n}\n\nexport default Blog;\n","import { useState, useContext } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Login() {\n  const [currentUsername, setCurrentUsername] = useState(\"\");\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const { user, login } = useContext(UserContext);\n  const navigate = useNavigate();\n\n  const loginHandler = (event) => {\n    event.preventDefault();\n    axios\n      .post(`/api/users/login`, {\n        username: currentUsername,\n        password: currentPassword,\n      })\n      .then(\n        (response) => {\n          console.log(response);\n          login(response.data.user);\n          localStorage.setItem(\"token\", response.data.token);\n          console.log(response.data.user, response.data.token);\n          navigate(\"/\");\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n  };\n\n  return (\n    <Form\n      onSubmit={loginHandler}\n      style={{ width: \"80%\", maxWidth: \"32rem\", margin: \"auto\" }}\n    >\n      <Form.Group className=\"mb-3\" controlId=\"username\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Enter username\"\n          onChange={(e) => {\n            setCurrentUsername(e.target.value);\n          }}\n        />\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\" controlId=\"password\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control\n          type=\"password\"\n          placeholder=\"Password\"\n          onChange={(e) => {\n            setCurrentPassword(e.target.value);\n          }}\n        />\n      </Form.Group>\n\n      <Button variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n    </Form>\n  );\n}\n\nexport default Login;\n","import { Form, Button } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Signup() {\n  const [currentUsername, setCurrentUsername] = useState(\"\");\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const [currentPassword2, setCurrentPassword2] = useState(\"\");\n\n  const navigate = useNavigate();\n\n  const signupHandler = (event) => {\n    event.preventDefault();\n\n    if (currentPassword === currentPassword2) {\n      axios\n        .post(`/api/users/register`, {\n          username: currentUsername,\n          password: currentPassword,\n        })\n        .then(\n          (response) => {\n            console.log(response);\n            navigate(\"/\");\n          },\n          (error) => {\n            console.log(error);\n          }\n        );\n    } else {\n      alert(\"Passwords doesn't match!\");\n    }\n\n    axios\n      .post(`/api/users/signup`, {\n        username: currentUsername,\n        password: currentPassword,\n      })\n      .then(\n        (response) => {\n          console.log(response);\n          navigate(\"/\");\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n  };\n\n  return (\n    <Form\n      style={{ width: \"80%\", maxWidth: \"32rem\", margin: \"auto\" }}\n      onSubmit={signupHandler}\n    >\n      <Form.Group className=\"mb-3\" controlId=\"username\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Enter username\"\n          onChange={(e) => {\n            setCurrentUsername(e.target.value);\n          }}\n        />\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\" controlId=\"password\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control\n          type=\"password\"\n          placeholder=\"Password\"\n          onChange={(e) => {\n            setCurrentPassword(e.target.value);\n          }}\n        />\n      </Form.Group>\n      <Form.Group className=\"mb-3\" controlId=\"confirm-password\">\n        <Form.Label>Confirm Password</Form.Label>\n        <Form.Control\n          type=\"password\"\n          placeholder=\"Confirm Password\"\n          onChange={(e) => {\n            setCurrentPassword2(e.target.value);\n          }}\n        />\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n    </Form>\n  );\n}\n\nexport default Signup;\n","import React, { useContext } from \"react\";\nimport { Outlet, Navigate } from \"react-router-dom\";\nimport { UserContext } from \"../contexts/UserContext\";\n\nexport default function PrivateRoute({ component: Component, ...rest }) {\n  const { user } = useContext(UserContext);\n\n  return user ? <Outlet /> : <Navigate to=\"/login\" />;\n}\n","import { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport Navigation from \"./components/Navigation\";\nimport Blog from \"./components/Blog\";\nimport Login from \"./components/Login\";\nimport Signup from \"./components/Signup\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport { UserProvider } from \"./contexts/UserContext\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Container } from \"react-bootstrap\";\n\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <UserProvider>\n        <Navigation />\n        <Container>\n          <Routes>\n            <Route exact path=\"/\" element={<PrivateRoute />}>\n              <Route exact path=\"/\" element={<Blog />} />\n            </Route>\n\n            <Route exact path=\"/signup\" element={<Signup />} />\n            <Route exact path=\"/login\" element={<Login />} />\n            <Route to=\"/\" />\n          </Routes>\n        </Container>\n      </UserProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport axios from \"axios\";\n\naxios.defaults.baseURL = \"https://obscure-temple-20965.herokuapp.com\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}